---
title: ES7 and ES8 特性
date: 2017-07-18 13:56:47
tags:  
    - es7
    - es8
---
## ES8 was Released
> 虽然现在开发已经都在用es6，一个不注意，都到了es8了。记录一下新增加的常用功能，方便查阅。
## ES7 特性：
1. Array.prototype.includes
2. Exponentiation Operator(求冥运算)

## ES8 特性
1. Object.values/Object.entries
2. String padding(字符串填充)
3. Object.getOwnPropertyDescriptors
4. 函数参数列表和调用中的尾逗号（Trailing commas）
5. 异步函数（Async Functions）

### Array.prototype.includes
Array.prototype.includes用法都容易和简单。它是一个替代indexOf，开发人员用来检查数组中是否存在值，indexOf是一种尴尬的使用，因为它返回一个元素在数组中的位置或者-1当这样的元素不能被找到的情况下。所以它返回一个数字，而不是一个布尔值。开发人员需要实施额外的检查。
在ES6，要检查是否存在值你需要做一些如下所示小技巧，因为他们没有匹配到值，Array.prototype.indexOf返回-1变成了true（转换成true），但是当匹配的元素为0位置时候，该数组包含元素，却变成了false
```js
let arr = ['react', 'angular', 'vue']
// WRONG
if (arr.indexOf('react')) { // 0 -> evaluates to false, definitely as we expected
  console.log('Can use React') // this line would never be executed
}
// Correct
if (arr.indexOf('react') !== -1) {
  console.log('Can use React')
}
```
或者使用一点点hack 位运算符 ~ 使代码更加紧凑一些，因为~（位异或）对任何数字相当于-(a + 1):
```js
let arr = ['react', 'angular', 'vue']
// Correct
if (~arr.indexOf('react')) {
  console.log('Can use React')
}
```
在ES7中使用includes代码如下:
```js
let arr = ['react', 'angular', 'vue']
// Correct
if (arr.includes('react')) {
  console.log('Can use React')
}
// 开发者还能在字符串中使用includes:
let str = 'React Quickly'
// Correct
if (str.toLowerCase().includes('react')) {  // true
  console.log('Found "react"')  
}
```
### Exponentiation Operator(求冥运算)
求冥运算大多数是为开发者做一些数学计算，对于3D，VR，SVG还有数据可视化非常有用。
在ES6或者早些版本，你不得不创建一个循环，创建一个递归函数或者使用Math.pow,如果你忘记了什么是指数,当你有相同数字（基数）自相相乘多次（指数）。例如，7的3次方是7*7*7

现在在ES7 /ES2016，以数学向导的开发者可以使用更短的语法:

let a = 7 ** 12
let b = 2 ** 7
console.log(a === Math.pow(7,12)) // true
console.log(b === Math.pow(2,7)) // true
开发者还可以操作结果:

let a = 7
a **= 12
let b = 2
b **= 7
console.log(a === Math.pow(7,12)) // true
console.log(b === Math.pow(2,7)) // true